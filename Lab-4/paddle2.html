<html>



  <head>
    <meta charset="UTF-8">
    <title>Canvas</title>

    <style type="text/css">
      body {
          background-color: white;
      }
    </style>
    <h1>Andrew Coffey</h1>

  </head>

  <body>

    <canvas id="paddle-class" width="300" height="300" style="border:5px solid black" ></canvas>

    <script type="text/javascript" >
      // Gets a handle to the element with id canvasOne.
      var canvas = document.getElementById("paddle-class");
      // Get a 2D context for the canvas.
      var ctx = canvas.getContext("2d");

      //class paddle
      class Paddle { 
        constructor (X, Y, radius, YSpeed){
          //attributes
          this.x = X;
          this.y = Y;
          this.r = radius;
          this.vy = YSpeed;
        }
        //draws the paddle
        drawPaddle(){
          
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.r, 0, 2*Math.PI);
          ctx.stroke();
        }
        movePaddle(){

          this.y += this.vy;
            
          if(this.y + this.r > canvas.height || this.y - this.r < 0){
            this.vy = this.vy*-1;
          }
          return this.y;
        }
        
      }
      
      class MatchBall { 
        constructor (X, Y, XSpeed, YSpeed, radius){
          //attributes
          this.x = X;
          this.y = Y;
          this.dx = XSpeed;
          this.dy = YSpeed;
          this.r = radius;
        }
        //draws the ball
        drawBall(){
          
          ctx.beginPath();
          
          ctx.arc(this.x, this.y, this.r, 0, 2*Math.PI);
          ctx.lineWidth = "2";
          ctx.fillStyle = "red";
          ctx.fill();
        }
        //moves ball
        moveBall(){

            this.x += this.dx;
            this.y += this.dy;
            
            if(this.y + this.r >= canvas.height || this.y - this.r <= 0){
              this.dy = this.dy*-1;
            }

            if(this.x + this.r >= canvas.width || this.x - this.r <= 0){
            this.dx = this.dx*-1;
            }

            return this.x;
            return this.y;
          
        }
      }

       function collision(X1, Y1, X2, Y2, Distance) {
        this.x1 = X1;
        this.y1 = Y1;
        this.x2 = X2;
        this.y2 = Y2; 
        this.d = Distance;  

        var a = y2 - y1;
        var b = x2 - x1;

        if(Math.sqrt(a * a + b * b) <= d){
          console.log("Collision detected!");
        }


      }
      
      //object to define class paddle
      const Paddle1 = new Paddle(15, 15, 15, 2);
      const Ball1 = new MatchBall(50, 25, 2, 2, 10);

      // A function to repeat every time the animation loops.
      function repeatme() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        //methods from class
        Paddle1.drawPaddle();
        Paddle1.movePaddle();
        Ball1.drawBall();
        Ball1.moveBall();

        var d = Paddle1.r + Ball1.r;

        collision(Paddle1.x, Paddle1.y, Ball1.x, Ball1.y, d);


        window.requestAnimationFrame(repeatme);
      }

      
      // Get the animation going.
      repeatme();
    </script>

  </body>

</html>