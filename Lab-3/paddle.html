<html>

  <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>

  <head>
    <meta charset="UTF-8">
    <title>Canvas</title>

    <style type="text/css">
      body {
          background-color: white;
      }
    </style>
    <h1>Andrew Coffey</h1>

  </head>

  <body>

    <canvas id="paddle-class" style="border:3px solid black" ></canvas>

    <script type="text/javascript" >
      // Gets a handle to the element with id canvasOne.
      var canvas = document.getElementById("paddle-class");
      // Get a 2D context for the canvas.
      var ctx = canvas.getContext("2d");

      //class ball
      class Paddle { 
        constructor (X, Y, Width, Height, XSpeed, YSpeed){
          //attributes
          this.x = X;
          this.y = Y;
          this.dx = Width;
          this.dy = Height;
          this.vx = XSpeed;
          this.vy = YSpeed;
        }
        //draws the ball
        drawPaddle(){
          
          ctx.beginPath();
          ctx.fillRect(this.x, this.y, this.dx, this.dy);
          ctx.stroke();
        }
        //moves ball
        movePaddle(){
            
          if(this.x + this.dx >= canvas.width || this.x <= 0){
            this.vx = this.vx*-1;
          }
          
          if(this.y + this.dy >= canvas.height || this.y <= 0){
            this.vy = this.vy*-1;
          }
        }

      }
      
      //object to define class ball
      const Paddle1 = new Paddle(0, 0, 10, 30, 0, 4);

      // A function to repeat every time the animation loops.
      function repeatme() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        //methods from class
        Paddle1.drawPaddle();


        window.requestAnimationFrame(repeatme);
      }

		//keypresses with jQuery
		$(document.body).on('keydown', function(e) {
			console.log(e.which);
			switch (e.which) {
			// key code for down arrow
			case 38:
				console.log('up arrow key pressed!');
        Paddle1.y+=Paddle1.vy*-1;
        break;

			// key code for up arrow
			case 40:
				console.log('down arrow key pressed!');
            Paddle1.y+=Paddle1.vy;
            break;
          }
			
		});
      
      // Get the animation going.
      repeatme();
    </script>

  </body>

</html>